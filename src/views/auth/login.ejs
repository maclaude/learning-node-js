<%- include('../includes/head.ejs') %>
	<link rel="stylesheet" href="/css/form.css">
	<link rel="stylesheet" href="/css/auth.css">
</head>
<body>
	<%- include('../includes/navigation.ejs') %>

	<main>
		<form class="login-form" action="/login" method="POST">
			<h1 class="main-form-title">Login</h1>

			<div class="main-form-control">
				<label class="main-form__label" for="email">Email</label>
				<input
					class="main-form__input <%= validationErrors.find(e => e.param === 'email') ? 'invalid' : '' %>" 
					type="text"
					name="email"
				>
			</div>
			<div class="main-form-control">
				<label class="main-form__label" for="password">Password</label>
				<input
					class="main-form__input <%= validationErrors.find(e => e.param === 'password') ? 'invalid' : '' %>" 
					type="password"
					name="password">
			</div>
			<a class="main-form-link" href="/reset-password">forgotten password</a>
			<input type="hidden" name="_csrf" value="<%= csrfToken %>">
			
			<button class="main-form__button" type="submit">Connexion</button>
		</form>
		<% if (errorMessage) { %>
			<div class="user-message user-message--error"><%= errorMessage %></div>
		<% } %>
	</main>
<%- include('../includes/footer.ejs') %>
